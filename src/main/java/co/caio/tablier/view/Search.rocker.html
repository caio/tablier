@import co.caio.tablier.model.*
@import co.caio.tablier.view.layout
@import co.caio.tablier.view.recipecard

@args (SiteInfo site, SearchResultsInfo sr)

@layout.template(site) -> {
<section class="section" id="results">
  <div class="columns is-multiline is-centered">
    <div class="column is-5 has-text-justified">
      <div class="notification content">
        Your search for <strong>@site.searchValue()</strong>
        @if (sr.numAppliedFilters() == 1) {
        with <em>one</em> filter applied
        } else if (sr.numAppliedFilters() > 1) {
        with <em>@sr.numAppliedFilters()</em> filters applied
        }
        has matched @sr.numMatching() recipe(s). Displaying results from @sr.paginationStart() to @sr.paginationEnd().
      </div>
    </div>
    <div class="column is-full"></div>

    <div class="column is-two-fifths">
      <div class="content">
        @for ((i, ri): sr.recipes()) {
        @recipecard.template(site, ri, i.index() + sr.paginationStart())
        }
        <nav class="pagination" role="navigation" style="margin-top:1.5rem;">
          <a class="pagination-previous" @if (site.isUnstable() || sr.previousPageHref().isEmpty()) { disabled } else { href="@sr.previousPageHref()#results" }>Previous page</a>
          <a class="pagination-next" @if (site.isUnstable() || sr.nextPageHref().isEmpty()) { disabled } else { href="@sr.nextPageHref()#results" }>Next page</a>
          <ul class="pagination-list"></ul>
        </nav>
      </div>
    </div>
    <div class="column is-one-quarter" id="sidebar">
      @sidebar.template(site, sr.sidebar())
    </div>
  </div>
</section>
}
