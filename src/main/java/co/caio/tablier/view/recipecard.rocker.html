@import co.caio.tablier.model.SiteInfo
@import co.caio.tablier.model.RecipeInfo

@args (SiteInfo site, RecipeInfo recipe, int position)
<div class="box">

  <div class="dropdown is-hoverable is-right is-pulled-right">
    <div class="dropdown-trigger">&vellip;</div>
    <div class="dropdown-menu">
      <div class="dropdown-content">
        <a class="dropdown-item" href="@recipe.goUrl()">View Source</a>
        <a class="dropdown-item" href="@recipe.similarUrl()">Find Similar Recipes</a>
      </div>
    </div>
  </div>

  <article class="media">
    <div class="media-content" id="recipe-@position">
      <div class="content">
        <p class="title is-size-5 mb-025"><a href="@recipe.infoUrl()" title="@recipe.name()">@recipe.name()</a></p>
        <p class="subtitle is-size-6 is-marginless mb-025">@recipe.siteName()</p>
        <ul class="is-marginless">
          <li class="recipe-meta-item is-size-7">
            <svg class="icon">
              <use xlink:href="#icon-ingredients"></use>
            </svg>
            @recipe.numIngredients()
          </li>

          @if (recipe.calories().isPresent()) {
          <li class="recipe-meta-item is-size-7">
            <svg class="icon">
              <use xlink:href="#icon-calories"></use>
            </svg>
            @recipe.calories().getAsInt()
          </li>
          }

          @if (recipe.totalTime().isPresent()) {
          <li class="recipe-meta-item is-size-7">
            <svg class="icon">
              <use xlink:href="#icon-time"></use>
            </svg>
            @recipe.totalTime().getAsInt() min
          </li>
          }
        </ul>
      </div>
    </div>
  </article>
</div>
